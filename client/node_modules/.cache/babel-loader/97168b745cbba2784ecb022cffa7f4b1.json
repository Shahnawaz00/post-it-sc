{"ast":null,"code":"import _slicedToArray from \"/Users/shahnawaz/Desktop/projects/post-it/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/shahnawaz/Desktop/projects/post-it/client/src/features/addPage/AddPost.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { nanoid } from '@reduxjs/toolkit';\nimport { addPageClassChanged } from './addPageClassSlice';\nimport { addNewPost } from '../posts/postsSlice';\nimport { useAddNewPostMutation } from '../api/apiSlice';\n\nvar AddPost = function AddPost() {\n  // close add page dispatch on close button\n  var viewAddPage = useSelector(function (state) {\n    return state.viewAddPage;\n  });\n  var addPageClass = useSelector(function (state) {\n    return state.addPageClass.value;\n  });\n  var dispatch = useDispatch();\n\n  var closeAddPage = function closeAddPage() {\n    if (addPageClass.value !== 'closeAddPage') {\n      dispatch(addPageClassChanged({\n        value: 'closeAddPage'\n      }));\n    }\n  }; // close add page dispatch on esc button\n\n\n  useEffect(function () {\n    var handleEsc = function handleEsc(event) {\n      if (event.keyCode === 27) {\n        if (addPageClass.value !== 'closeAddPage') {\n          dispatch(addPageClassChanged({\n            value: 'closeAddPage'\n          }));\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleEsc);\n    return function () {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  }, []); // form input states\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      description = _useState4[0],\n      setDescription = _useState4[1];\n\n  var onNameChange = function onNameChange(e) {\n    return setName(e.target.value);\n  };\n\n  var onDescriptionChange = function onDescriptionChange(e) {\n    return setDescription(e.target.value);\n  }; // add new post dispatch\n\n\n  var onFormSubmit = function onFormSubmit(e) {\n    if (name && description) {\n      dispatch(addNewPost({\n        id: nanoid(),\n        name: name,\n        description: description\n      }));\n      setName('');\n      setDescription('');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: viewAddPage.value ? addPageClass.value : 'closeAddPageInit',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addPageHeader\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"addPageTitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Add Post\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"addPageCloseBtn\",\n    onClick: closeAddPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \" close x \")), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"addForm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"postName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Post:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"addFormInputs\",\n    type: \"text\",\n    name: \"postName\",\n    placeholder: \"Go Hiking\",\n    onChange: onNameChange,\n    value: name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"postDescription\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Description:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"addFormInputs\",\n    name: \"postDescription\",\n    id: \"postDescription\",\n    cols: \"30\",\n    rows: \"10\",\n    onChange: onDescriptionChange,\n    value: description,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onFormSubmit,\n    className: \"addFormBtn\",\n    type: \"button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"Add Post\")));\n};\n\nexport default AddPost;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","nanoid","addPageClassChanged","addNewPost","useAddNewPostMutation","AddPost","viewAddPage","state","addPageClass","value","dispatch","closeAddPage","handleEsc","event","keyCode","window","addEventListener","removeEventListener","name","setName","description","setDescription","onNameChange","e","target","onDescriptionChange","onFormSubmit","id"],"sources":["/Users/shahnawaz/Desktop/projects/post-it/client/src/features/addPage/AddPost.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { nanoid } from '@reduxjs/toolkit';\nimport {addPageClassChanged} from './addPageClassSlice';\nimport { addNewPost } from '../posts/postsSlice';\nimport { useAddNewPostMutation } from '../api/apiSlice'\n\nconst AddPost = () => {\n\n  // close add page dispatch on close button\n\n  const viewAddPage = useSelector(state => state.viewAddPage);\n  const addPageClass = useSelector(state => state.addPageClass.value);\n\n  const dispatch = useDispatch()\n\n  const closeAddPage = () => {\n    if (addPageClass.value !== 'closeAddPage') {\n      dispatch(\n        addPageClassChanged({\n            value: 'closeAddPage'\n        })\n    )\n    }\n  }\n    // close add page dispatch on esc button\n  useEffect(() => {\n    const handleEsc = (event) => {\n       if (event.keyCode === 27) {\n        if (addPageClass.value !== 'closeAddPage') {\n          dispatch(\n            addPageClassChanged({\n                value: 'closeAddPage'\n            })\n        )\n        }\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  }, []);\n\n  // form input states\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n\n  const onNameChange = (e) => setName(e.target.value)\n  const onDescriptionChange = (e) => setDescription(e.target.value)\n\n  // add new post dispatch\n  const onFormSubmit = (e) => {\n    if (name && description) {\n      dispatch(\n        addNewPost({\n          id: nanoid(),\n          name,\n          description\n        })\n      )\n      setName('')\n      setDescription('')\n    }\n  }\n\n  return (\n    <div className={viewAddPage.value? addPageClass.value : 'closeAddPageInit'} >\n      <div className='addPageHeader' >\n        <h3 className='addPageTitle' >Add Post</h3>\n        <button className='addPageCloseBtn' onClick={closeAddPage} > close x </button>\n      </div>\n      <form className='addForm'  >\n        <label htmlFor=\"postName\">Post:</label>\n        <input className='addFormInputs' type=\"text\" name='postName'\n         placeholder='Go Hiking' onChange={onNameChange} value={name} />\n        <label htmlFor=\"postDescription\">Description:</label>\n        <textarea className='addFormInputs' name=\"postDescription\" id=\"postDescription\"\n        cols=\"30\" rows=\"10\" onChange={onDescriptionChange} value={description}></textarea>\n        <button onClick={onFormSubmit} className='addFormBtn' type='button' >Add Post</button>\n      </form>\n    </div>\n  )\n}\n\nexport default AddPost\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,QAAuB,kBAAvB;AACA,SAAQC,mBAAR,QAAkC,qBAAlC;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SAASC,qBAAT,QAAsC,iBAAtC;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;EAEpB;EAEA,IAAMC,WAAW,GAAGP,WAAW,CAAC,UAAAQ,KAAK;IAAA,OAAIA,KAAK,CAACD,WAAV;EAAA,CAAN,CAA/B;EACA,IAAME,YAAY,GAAGT,WAAW,CAAC,UAAAQ,KAAK;IAAA,OAAIA,KAAK,CAACC,YAAN,CAAmBC,KAAvB;EAAA,CAAN,CAAhC;EAEA,IAAMC,QAAQ,GAAGV,WAAW,EAA5B;;EAEA,IAAMW,YAAY,GAAG,SAAfA,YAAe,GAAM;IACzB,IAAIH,YAAY,CAACC,KAAb,KAAuB,cAA3B,EAA2C;MACzCC,QAAQ,CACNR,mBAAmB,CAAC;QAChBO,KAAK,EAAE;MADS,CAAD,CADb,CAAR;IAKD;EACF,CARD,CAToB,CAkBlB;;;EACFX,SAAS,CAAC,YAAM;IACd,IAAMc,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;MAC1B,IAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;QACzB,IAAIN,YAAY,CAACC,KAAb,KAAuB,cAA3B,EAA2C;UACzCC,QAAQ,CACNR,mBAAmB,CAAC;YAChBO,KAAK,EAAE;UADS,CAAD,CADb,CAAR;QAKD;MACF;IACF,CAVD;;IAWAM,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCJ,SAAnC;IAEA,OAAO,YAAM;MACXG,MAAM,CAACE,mBAAP,CAA2B,SAA3B,EAAsCL,SAAtC;IACD,CAFD;EAGD,CAjBQ,EAiBN,EAjBM,CAAT,CAnBoB,CAsCpB;;EAtCoB,gBAuCIf,QAAQ,CAAC,EAAD,CAvCZ;EAAA;EAAA,IAuCbqB,IAvCa;EAAA,IAuCPC,OAvCO;;EAAA,iBAwCkBtB,QAAQ,CAAC,EAAD,CAxC1B;EAAA;EAAA,IAwCbuB,WAxCa;EAAA,IAwCAC,cAxCA;;EA0CpB,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD;IAAA,OAAOJ,OAAO,CAACI,CAAC,CAACC,MAAF,CAASf,KAAV,CAAd;EAAA,CAArB;;EACA,IAAMgB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACF,CAAD;IAAA,OAAOF,cAAc,CAACE,CAAC,CAACC,MAAF,CAASf,KAAV,CAArB;EAAA,CAA5B,CA3CoB,CA6CpB;;;EACA,IAAMiB,YAAY,GAAG,SAAfA,YAAe,CAACH,CAAD,EAAO;IAC1B,IAAIL,IAAI,IAAIE,WAAZ,EAAyB;MACvBV,QAAQ,CACNP,UAAU,CAAC;QACTwB,EAAE,EAAE1B,MAAM,EADD;QAETiB,IAAI,EAAJA,IAFS;QAGTE,WAAW,EAAXA;MAHS,CAAD,CADJ,CAAR;MAOAD,OAAO,CAAC,EAAD,CAAP;MACAE,cAAc,CAAC,EAAD,CAAd;IACD;EACF,CAZD;;EAcA,oBACE;IAAK,SAAS,EAAEf,WAAW,CAACG,KAAZ,GAAmBD,YAAY,CAACC,KAAhC,GAAwC,kBAAxD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,eAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAI,SAAS,EAAC,cAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cADF,eAEE;IAAQ,SAAS,EAAC,iBAAlB;IAAoC,OAAO,EAAEE,YAA7C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAFF,CADF,eAKE;IAAM,SAAS,EAAC,SAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAO,OAAO,EAAC,UAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,WADF,eAEE;IAAO,SAAS,EAAC,eAAjB;IAAiC,IAAI,EAAC,MAAtC;IAA6C,IAAI,EAAC,UAAlD;IACC,WAAW,EAAC,WADb;IACyB,QAAQ,EAAEW,YADnC;IACiD,KAAK,EAAEJ,IADxD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,eAIE;IAAO,OAAO,EAAC,iBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAJF,eAKE;IAAU,SAAS,EAAC,eAApB;IAAoC,IAAI,EAAC,iBAAzC;IAA2D,EAAE,EAAC,iBAA9D;IACA,IAAI,EAAC,IADL;IACU,IAAI,EAAC,IADf;IACoB,QAAQ,EAAEO,mBAD9B;IACmD,KAAK,EAAEL,WAD1D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EALF,eAOE;IAAQ,OAAO,EAAEM,YAAjB;IAA+B,SAAS,EAAC,YAAzC;IAAsD,IAAI,EAAC,QAA3D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAPF,CALF,CADF;AAiBD,CA7ED;;AA+EA,eAAerB,OAAf"},"metadata":{},"sourceType":"module"}